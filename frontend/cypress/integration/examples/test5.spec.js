describe("My fifth test",function () {
it("Test audit function",()=>{
    cy.viewport(1400,800)
    cy.visit('http://localhost:3000/')
    cy.get('#signIn').should('contain','登录').click()
    cy.url().should('eq','http://localhost:3000/SignUp')
    cy.get('#normal_login_username').type('wy122963')
        .should('have.value','wy122963')
    cy.get('#normal_login_password').type('wy13278649176')
        .should('have.value','wy13278649176')
    cy.get('.ant-btn.login-form-button')
        .should('have.attr','type','submit')
        .click()
    cy.url().should('eq','http://localhost:3000/')
    cy.get('#username').should('contain','Hi,wy122963')
    cy.get('.anticon.anticon-setting.ant-dropdown-trigger').click()
    cy.get('#EntryAudit').should('contain','Entry Audit')
        .click()
    cy.url().should('eq','http://localhost:3000/EntryAuditS')
    cy.get("#rejected").should('contain','未通过')
        .click()
    cy.get('#add_entry').should('contain','创建词条')
        .click()
    cy.url().should('eq','http://localhost:3000/AddEntryDetail')
    cy.get('#nest-messages_name').type('123456').should('have.value','123456')
    cy.get('#nest-messages_desc').type('12345').should('have.value','12345')
    cy.get('#nest-messages_prevent').type('1234').should('have.value','1234')
    cy.get('.ant-btn.form-button').last().click()
    cy.url().should('eq','http://localhost:3000/')
    cy.get('.anticon.anticon-setting.ant-dropdown-trigger').click()
    cy.get('#EntryAudit').should('contain','Entry Audit')
        .click()
    cy.url().should('eq','http://localhost:3000/EntryAuditS')
    cy.get('#waiting_for_audit').should('contain','待审核').click()
    cy.get('#looking_for_detail').last().should('contain','查看详情')
        .click()
    cy.get('#name_before').should('contain','这是一个新词条')
    cy.get('#name_after').should('contain','123456')
    cy.get('#reason').type('就是拒绝').should('have.value','不通过就是拒绝')
    cy.get('#reject').click()
    cy.url().should('eq','http://localhost:3000/EntryAuditS')
    cy.get("#rejected").should('contain','未通过')
        .click()
    cy.get('#looking_for_detail').last().should('contain','查看详情')
        .click()
    cy.get('#name_before').should('contain','这是一个新词条')
    cy.get('#name_after').should('contain','123456')
})
})
