# 					摸鱼百科

* 项目简介

  ​		摸鱼百科是一个收录几万条疾病信息的百科网站，能够为用户提供想要了解的疾病信息，包括病因、就诊建议、预防措施、疗程、治疗费用、推荐药品、推荐饮食、禁忌食物等详尽的疾病相关信息，从而用户可以针对该疾病进行自我诊断并获得基本的就诊建议、预防措施以及后续饮食药品推荐。

* 功能需求
  * 面向用户需求
    1. 用户可以通过疾病名搜索疾病
       * 支持模糊搜索
       * 未能精准匹配时展示多条相关结果供用户选择
    2. 用户可以进行登陆注册
    3. 用户登录后可以进行百科词条的添加和已有词条的编辑
  * 面向运行管理需求
    1. 管理员身份可以对用户的添加和编辑行为进行审核
    2. 管理员审核通过后相应的修改会在随后的搜索中显示出来，被拒绝的修改则不会对后续的搜索产生影响
    3. 管理员可以查看待审核词条和已审核词条的记录
* 非功能需求
  1. 数据量要求：主数据库数据超过1w条
  2. 测试：要求实现前后端单元测试和前端端到端测试，并使得后端单元测试覆盖率百分百
  3. 性能：100并发下平均延迟2000ms以内
  4. 运维：监控系统运行情况并能进行系统迁移和弹性伸缩
  5. 日志：日志自动化记录系统运行信息
* 项目架构设计
  * 前端主要采用 React+antd 的搭配进行页面的编写, React Router管理页面跳转逻辑
  * 前端单元测试采用jest进行单元测试、cypress进行端到端测试
  * Fetch API 进行前后端交互
  * Spirng Security进行认证授权
  * 后端采用Spring boot + Spring JPA 进行开发，采用分层架构、接口实现分离和依赖注入的模式
  * 后端单元测试采用Junit
  * 数据库应用了Mysql、mongodb和neo4j三种不同类型的数据库
  * 采用log4j日志框架记录后端运行信息和报错信息
  * actuator和prometheus进行后端运行情况的监控
  * grafana 对监控数据进行可视化展示
  * 性能测试选择 Jmeter 框架
  * 用githubn action实现CI/CD
  * 服务器端采用了docker镜像的方式进行项目的部署，docker-compose进行集群快速编排管理并用nginx进行http代理
* 测试
  * 前端单元测试和端到端测试覆盖了主要功能和组件
  * 后端单元测试代码覆盖率达到了百分百
* 性能
  * 主数据库数据量达到10w量级
  * Jmeter 100并发下对主搜索功能测试结果平均延迟在300ms到400ms之间；开启cache后在100ms以内

